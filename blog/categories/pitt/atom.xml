<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: pitt | Neil Ding]]></title>
  <link href="http://GingerBear.github.io/blog/categories/pitt/atom.xml" rel="self"/>
  <link href="http://GingerBear.github.io/"/>
  <updated>2014-03-19T15:25:31-04:00</updated>
  <id>http://GingerBear.github.io/</id>
  <author>
    <name><![CDATA[Neil Ding]]></name>
    <email><![CDATA[bbbear444@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[CS2510: Project 2 - MiniGoogle Final Report]]></title>
    <link href="http://GingerBear.github.io/blog/2013/12/17/cs2510-project-2-minigoogle-final-report/"/>
    <updated>2013-12-17T16:42:00-05:00</updated>
    <id>http://GingerBear.github.io/blog/2013/12/17/cs2510-project-2-minigoogle-final-report</id>
    <content type="html"><![CDATA[<p>CS2510: Project 2 &ndash; MiniGoogle Final Report</p>

<h5>Guanxiong Ding (gud7)</h5>

<p>12/17/2013</p>

<h2>General Workflow</h2>

<h4>Indexing workflow</h4>

<ul>
<li>client send the documents to minigoogle server</li>
<li>mingoogle server dispatch socket connections to worker by fork a process</li>
<li>worker lookup mappers and reducers</li>
<li>worker split the file and send to ma ppers</li>
<li>each mapper count word for its split</li>
<li>mapper partition the word count result and send to reducer</li>
<li>reducer aggregate the result and append to master index files</li>
</ul>


<h4>Querying workflow</h4>

<ul>
<li>client send keywords to minigoogle server</li>
<li>mingoogle server dispatch socket connections to worker by fork a process</li>
<li>worker lookup mappers and reducers</li>
<li>worker send each keyword to each mapper</li>
<li>each mapper get a set of document &ndash; occurrence pairs by the keyword</li>
<li>mapper send result set to reducer</li>
<li>reducer gather all sets from mappers and calculate the total occurrence</li>
<li>reducer sort the document by total occurrence and send back to client</li>
</ul>


<h2>Client</h2>

<p>It is a program on local machine. It can be runned by user on command line along with parameters. client will first lookup the naming server to find the address of mini-google, then request for a socket connection and then send index/query request to it with connection and then waiting for response.</p>

<h3>Mini-google</h3>

<p>First it will create a socket and binding with the address and port number, then listen() in a infinite loop. When receiving a request from client, it create a new process regarding to request type (index/query) to handle the request. After that, server will keeping listening for other requests.</p>

<h3>Worker</h3>

<p>Worker is the critical part of the whole work. It holds the connection with client and send result back to client if all mappers and reducers have done their work. It will split the file by the number of available mapper it got from name server. After file splitted, it will send each split to each mapper by a set of parameters</p>

<ul>
<li>split file name</li>
<li>document name</li>
<li>number of mappers // to let reducer know when to start reducing</li>
<li>address and ports of all reducers</li>
</ul>


<p>and then waiting for their response by holding connection on multi-threads. If all mappers response work done, it will send message to client and close the connection.</p>

<h3>Mapper helper</h3>

<p>Before working, it will register on name server when start running, with it address, port and type, which is &ldquo;mapper&rdquo;.</p>

<p>Mapper first do the word counting and combining on it splits by shell script using tr, sed, awk, uniq, sort. and then do partition on the map result, by the number of reducers. It do partition not by lines, but by alphabetic. Meaning if number of reducers is 2, result will be partition to two files, one with terms from [a-m], one with terms from [n-z], which refers to the step of shuffle. Then sent each partition to each reducer and waiting for their response by holding connection on multi-threads. If all reducers response work done, it will send message to worker and close the connection.</p>

<h3>Reducer helper</h3>

<p>Before working, it will register on name server when start running, with it address, port and type, which is &ldquo;reducer&rdquo;.</p>

<p>Reducer first get the number of mappers. By this number, it will know how many mapper it have to wait. After it received all data from mapper, it will start to aggregate the mapper by shell script with awk. Then it will start 5 thread to merge result to master index. When all thread done their job. Reducer will send message back to mapper that its work done.</p>

<h3>Name Server</h3>

<p>Naming server establish sockets and keep waiting for connection. It support two type of request,register and request. Register will store address, port, server type. Lookup will will send back a set of address, port and server type by server type and number. For example, get 5 mappers, or get 3 reducers.</p>

<h3>Master index</h3>

<p>In this project, name index is separated alphabetically in 26 files for each letter. The advantage is that they could be better paralleled in indexing and querying with less concern on blocking issues.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Some thoughts one day after graduate]]></title>
    <link href="http://GingerBear.github.io/blog/2013/12/14/some-thoughts-one-day-after-graduate/"/>
    <updated>2013-12-14T23:47:00-05:00</updated>
    <id>http://GingerBear.github.io/blog/2013/12/14/some-thoughts-one-day-after-graduate</id>
    <content type="html"><![CDATA[<p>Now is day one after graduate. In fact I have to do my operating system project now, I too much thought are stoping me. So I decide to do project tommorrow and write all these thoughts down. Ok, use Chinese.</p>

<h2>莫扎特的Clarinet Concerto In A, K.622: 2. Adagio</h2>

<p>我正在反复听莫扎特的(Clarinet Concerto In A, K.622: 2. Adagio)[<a href="http://www.xiami.com/song/1770385763?spm=a1z1s.6659513.0.0.0555RH">http://www.xiami.com/song/1770385763?spm=a1z1s.6659513.0.0.0555RH</a>]，这首曲子能让人沉静下来能想想自己的事情。第一次听是在一个莫扎特的纪录片的片头曲听到，当时一听到那个单簧管吹出的旋律就很感动。</p>

<h2>毕业中</h2>

<h3>甘同学的包</h3>

<p>说说昨晚的一个事儿。昨天晚上与甘同学小聚，因为他要就要去加州了，月黑风高的去了匹兹堡市中心逛了逛聊了聊，回来的时候已经很晚了（或者说很早了，因为是早上六点），迷迷糊糊到了家马上就睡了，刚睡一会收到个电话说他包找不到了，里面有个两千多刀的单反，问我看看记不记得放哪儿了，我起来看了看包，发现是我自己包（恰好跟他的包除了颜色都是一样的），然后去门外看了看下车的地方也没有。我告诉他可能是放到原来的车里地上了，但他手机又没电了，钥匙在那包里也回不去。那个焦急的情景，我很能体会。中间他没有办法去买了个充电器去咖啡店充了电，又租了车去了躺路过的地方找，找不到，又打了911，甚至直接下单买了一台新的单反。到了早上我又收到了电话问我再确定一下路上有没有，尽管我很确定但还是去看了看，依旧什么都没有。我回到了房间坐再床上睡了，突然看到了我椅子下还有个包，就是他的包…… 看来是我昨晚下车的时候顺手把他的包当成我的包就直接拿走了，但是我完全不记得了。这事儿我感到十分抱歉，自己的一个犯傻导致他人身心具疲。</p>

<h3>学院三楼</h3>

<p>学院三楼一直是个热闹的地方，长期有邦邦同学把守，每次去那儿都挺欢乐。我平时不怎么去，直到这个学期的后半段去的比较多，一是由于图书馆人太多，位子不好找，二是跟认识的同学还能聊聊天，又是还能讨论讨论项目，运气好甚至还有免费的食物。在这段时间里也熟悉了不少新朋友，每次学习到后面就成了茶话会，大家还都听能聊的，还挺开心的。学院三楼的那个桌儿仿佛成了一个我们专业小伙伴们的据点，每天都会有小伙伴来首先将其霸占。</p>

<h3>Trees Hall</h3>

<p>打篮球的地儿，虽然比起国内的强多了，但地板还是不可避免的滑，我也不可避免的打得没有外场好。每周我都会来这里打两次球，认识了一堆小伙伴，真的有些不舍得离开。如果能找到匹兹堡大学的工作，最大的好处就是能继续在这儿打篮球。刚来的那会儿真是谁都不认识，很傻很天真的跟跟几个老黑打起半场来。后来打起全场第一次就更清华哥吵起来了（后来还是关系不错），狗腿后来把我拉近了他们的篮球队，每周二周五晚上都非常认真的在这里练联防和战术，当时的那几个在一队真的挺厉害的，甚至在trees都很难找到能打赢我们的队。首先我们的防守特别好，我们守的是联防，外线的补位非常及时，内线有狗腿的强硬防守。对手在进攻的时候除了投三分，几乎很难突破进来。在进攻端，大神的组织非常合理，他知道该怎么打，并且总能打出一些战术。我们还有生哥的三分球，以及非常好的快攻意识，我更像是个小前锋，进攻方式多是中投和三分，偶尔有一些挡拆的配合。后来对篮球最执着的狗腿回国了，大家似乎就没有当时的那种练球的劲头了，大家都有各自忙的事情，晚上来打球更多是为了消遣。我之前一直是做他们车过来，后面也逐渐的自己走过来了，渐渐跟他们也走得不是那么近了，更多的是想自己多发挥一些个人能力，因为说实话在之前强大打团队里，打球的方式非常单一，个人能力都退化了。总之这是一个值得回忆的地方，如果我留下，我想我需要去练练身体，把个人能力提上去。</p>

<h4>(待续)</h4>

<h3>加州</h3>

<h3>回国</h3>

<h3>分手</h3>

<h2>毕业后</h2>

<h3>学校工作</h3>

<h3>空闲的日子</h3>

<h3>朋友</h3>
]]></content>
  </entry>
  
</feed>

(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,a,n){e.exports=n(61)},30:function(e,a,n){},32:function(e,a,n){},37:function(e,a,n){},39:function(e,a,n){},41:function(e,a,n){},43:function(e,a,n){},45:function(e,a,n){},57:function(e,a,n){},59:function(e,a,n){},61:function(e,a,n){"use strict";n.r(a);var t=n(0),l=n.n(t),r=n(3),o=n.n(r),c=(n(30),n(4)),i=n(7),s=(n(32),n(14)),m=n.n(s),u="nbaDailyfavTeams";function d(e,a){return m()(e,a).tz("America/New_York")}n(37);var v=function(e){var a=d(e.lastUpdate).fromNow();return l.a.createElement("header",{id:"header"},l.a.createElement("h1",null,"NBA Daily"),l.a.createElement("button",{onClick:e.onUpdate,className:"LastUpdate"},"updated ",a))};n(39);var f=function(e){return l.a.createElement("footer",null,l.a.createElement("br",null),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{style:{paddingBottom:10,textDecoration:"none",color:"#555",display:"block",textAlign:"right"},href:"https://github.com/gingerbear/nba-daily"},"Github"))))};n(41);var p=function(e){return l.a.createElement("div",{className:"Ranking",id:"ranking"},l.a.createElement("div",{className:"Ranking-body"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",{className:"rank"}),"West"),e.rankings.west.map(function(e,a){return l.a.createElement("li",{className:"rank-".concat(a),key:a},l.a.createElement("span",{className:"rank"},a+1),l.a.createElement("img",{src:"images/".concat(e.teamCode.toLowerCase(),".gif"),alt:e.teamCode}),l.a.createElement("span",{className:"team-name"},e.teamCode),l.a.createElement("span",{className:"win-record"},"(",e.win,"-",e.loss,")"),l.a.createElement("span",{className:"behind"},"+",e.behind))})),l.a.createElement("ul",null,l.a.createElement("li",null,"East"),e.rankings.east.map(function(e,a){return l.a.createElement("li",{className:"rank-".concat(a),key:a},l.a.createElement("img",{src:"images/".concat(e.teamCode.toLowerCase(),".gif"),alt:e.teamCode}),l.a.createElement("span",{className:"team-name"},e.teamCode),l.a.createElement("span",{className:"win-record"},"(",e.win,"-",e.loss,")"),l.a.createElement("span",{className:"behind"},"+",e.behind))}))))},g=n(15),E=n(16),h=n(22),b=n(17),k=n(23),y=(n(43),window.navigator.userAgent.indexOf("Android")>-1),C=function(e){function a(){var e,n;Object(g.a)(this,a);for(var t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(b.a)(a)).call.apply(e,[this].concat(l)))).playVideo=function(e){n.videoPlayer=document.createElement("video"),n.videoPlayer.src=e,n.videoPlayer.controls=!0,n.videoPlayer.addEventListener("ended",n.onVideoEnded,!1),n.videoPlayer.play(),y&&(n.refs.videoContainer.innerHTML="",n.refs.videoContainer.appendChild(n.videoPlayer))},n.onVideoEnded=function(e){n.videoPlayer.webkitExitFullscreen()},n.retryPlay=function(e){e?n.playVideo(e):(n.videoPlayer&&n.videoPlayer.pause(),n.refs.videoContainer.innerHTML="")},n}return Object(k.a)(a,e),Object(E.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.video!==this.props.video&&this.retryPlay(e.video)}},{key:"componentDidMount",value:function(){this.retryPlay(this.props.video)}},{key:"render",value:function(){return l.a.createElement("div",{className:"video-play-section"},l.a.createElement("div",{ref:"videoContainer",className:"videoContainer"}),this.props.video&&l.a.createElement("button",{className:"videoCloseButton",onClick:this.props.onClose},"\xd7"))}}]),a}(t.Component);n(45);var N=function(e){return l.a.createElement("ul",{className:"PageAnchers"},e.gameDates.map(function(a,n){var t=d(new Date(+a.timestamp)).calendar().split("at")[0].trim();return l.a.createElement("li",{key:n},"games-".concat(n)===e.currentSection?l.a.createElement("span",null,t):l.a.createElement("a",{href:"#games-".concat(n)},t))}),l.a.createElement("li",null,"ranking"===e.currentSection?l.a.createElement("span",null,"Ranking"):l.a.createElement("a",{href:"#ranking"},"Ranking")),l.a.createElement("li",null,"fav"===e.currentSection?l.a.createElement("span",null,"Fav"):l.a.createElement("a",{href:"#fav"},"Fav")))},w=n(5),T=n.n(w),P="https://dl.dropboxusercontent.com/s/kcwrqyr8455lsq6/nba-daily.json";function O(){return fetch(P,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin"}).then(function(e){return e.json()})}var j=n(24),S=[{value:"atl",label:"Atlanta Hawks"},{value:"bkn",label:"Brooklyn Nets"},{value:"bos",label:"Boston Celtics"},{value:"cha",label:"Charlotte Hornets"},{value:"chi",label:"Chicago Bulls"},{value:"cle",label:"Cleveland Cavaliers"},{value:"dal",label:"Dallas Mavericks"},{value:"den",label:"Denver Nuggets"},{value:"det",label:"Detroit Pistons"},{value:"gsw",label:"Golden State Warriors"},{value:"hou",label:"Houston Rockets"},{value:"ind",label:"Indiana Pacers"},{value:"lac",label:"Los Angeles Clippers"},{value:"lal",label:"Los Angeles Lakers"},{value:"mem",label:"Memphis Grizzlies"},{value:"mia",label:"Miami Heat"},{value:"mil",label:"Milwaukee Bucks"},{value:"min",label:"Minnesota Timberwolves"},{value:"nop",label:"New Orleans Pelicans"},{value:"nyk",label:"New York Knicks"},{value:"okc",label:"Oklahoma City Thunder"},{value:"orl",label:"Orlando Magic"},{value:"phi",label:"Philadelphia 76ers"},{value:"phx",label:"Phoenix Suns"},{value:"por",label:"Portland Trail Blazers"},{value:"sac",label:"Sacramento Kings"},{value:"sas",label:"San Antonio Spurs"},{value:"tor",label:"Toronto Raptors"},{value:"uta",label:"Utah Jazz"},{value:"was",label:"Washington Wizards"}];var L=function(e){return l.a.createElement(j.a,{name:"fav-teams",isMulti:!0,closeMenuOnSelect:!1,value:e.favTeams,options:S,onChange:e.onChange})};n(57);var I=function(e){return l.a.createElement("div",{className:"TeamIcon"},function(a){var n=null,t=null;return e.rankings.east.find(function(e){return e.teamCode===a})?(t="e",n=e.rankings.east.findIndex(function(e){return e.teamCode===a})):(t="w",n=e.rankings.west.findIndex(function(e){return e.teamCode===a})),l.a.createElement("span",{className:"conf-".concat(t)},n+1)}(e.teamInfo.triCode),l.a.createElement("img",{src:"images/".concat(e.teamInfo.triCode.toLowerCase(),".gif"),alt:e.teamInfo.triCode}),l.a.createElement("span",null,e.teamInfo.triCode,l.a.createElement("span",{className:"WinLoss"},"(",e.teamInfo.win,"-",e.teamInfo.loss,")")))},x=(n(59),"ontouchstart"in document.documentElement);var D=function(e){var a=e.game,n=d(a.startTimeUTC).calendar(),t=a.period.current<4&&a.period.current>0||""!==a.clock||a.period.isEndOfPeriod||a.period.isHalftime,r=!t&&0!==+a.hTeam.score&&0!==+a.vTeam.score,o=+a.hTeam.score>+a.vTeam.score,c=r&&o?"score win":"score",i=r?o?"score":"score win":"score",s=t?l.a.createElement("span",{className:"GameBadge"},"playing Q",a.period.current,"..."):null,m="GameItem fav-level-".concat(e.favLevel),u=(a.watch.broadcast.broadcasters.national||[]).map(function(e){return e.shortName}).join(""),v=a.playoffs&&a.playoffs.seriesSummaryText,f=a.nugget.text?a.nugget.text:u;return l.a.createElement("div",{className:m},l.a.createElement("div",{className:"GameDate"},n," ",s),l.a.createElement("div",{className:"line"},l.a.createElement("div",{className:"GameSide"},l.a.createElement(I,{rankings:e.rankings,teamInfo:a.hTeam}),l.a.createElement("span",{className:c},a.hTeam.score)),l.a.createElement("div",{className:"GameSide"},l.a.createElement("span",{className:i},a.vTeam.score),l.a.createElement(I,{rankings:e.rankings,teamInfo:a.vTeam})),l.a.createElement("div",{className:"GameRecap"},a.recapLink?l.a.createElement("a",{className:"PlayButton",onClick:function(a){x&&(a.preventDefault(),e.onPlay(a.target.href))},href:a.recapLink},l.a.createElement("span",{className:"PlayIcon"})):null)),l.a.createElement("p",null,v," | ",f))};var A=function(){var e=Object(t.useState)(function(){var e;try{e=JSON.parse(localStorage.getItem(u))}catch(a){}return{rankings:{},lastUpdate:null,gameDates:[],favTeams:e}}()),a=Object(i.a)(e,2),n=a[0],r=a[1],o=Object(t.useState)(E()),s=Object(i.a)(o,2),m=s[0],d=s[1];function g(){O().then(function(e){r(Object(c.a)({},n,e))})}function E(){return(window.location.hash||"").replace("#","")||"games-".concat(function(){var e=T()().hour();return e>5&&e<=12?0:1}())}function h(e){r(Object(c.a)({},n,{videoPlaying:e}))}return Object(t.useEffect)(function(){g(),window.onhashchange=function(){return d(E())}},[]),n.lastUpdate?l.a.createElement("div",{className:"App"},l.a.createElement(v,{lastUpdate:n.lastUpdate,onUpdate:g}),l.a.createElement("div",{className:"anchers"},l.a.createElement(N,{gameDates:n.gameDates,currentSection:m})),n.gameDates.map(function(e,a){return l.a.createElement("ul",{className:"game-list"},e.games.map(function(e,a){return l.a.createElement("li",{key:a},l.a.createElement(D,{game:e,rankings:n.rankings,onPlay:h,favLevel:function(e,a){var n=e.map(function(e){return e.value});return(n.indexOf(a[0].triCode.toLowerCase())>-1?1:0)+(n.indexOf(a[1].triCode.toLowerCase())>-1?1:0)}(n.favTeams,[e.hTeam,e.vTeam])}))}))}).find(function(e,a){return m==="games-"+a}),"ranking"===m&&l.a.createElement(p,{rankings:n.rankings}),"fav"===m&&l.a.createElement("div",{className:"fav-teams-container"},l.a.createElement("h4",{style:{margin:"10px 0"}},"Fav Teams"),l.a.createElement(L,{favTeams:n.favTeams,onChange:function(e){localStorage.setItem(u,JSON.stringify(e)),r(Object(c.a)({},n,{favTeams:e}))}})),l.a.createElement(f,null),l.a.createElement(C,{video:n.videoPlaying,onClose:function(){r(Object(c.a)({},n,{videoPlaying:null}))}})):l.a.createElement("p",null,"Loading")};o.a.render(l.a.createElement(A,null),document.getElementById("root"))}},[[25,2,1]]]);
//# sourceMappingURL=main.fa794d07.chunk.js.map